(this["webpackJsonptnm095-rps-cnn"]=this["webpackJsonptnm095-rps-cnn"]||[]).push([[0],{265:function(e,t,n){},271:function(e,t){},272:function(e,t){},280:function(e,t){},290:function(e,t){},291:function(e,t){},292:function(e,t){},293:function(e,t){},301:function(e,t){},303:function(e,t,n){"use strict";n.r(t);var c=n(62),s=n.n(c),o=n(236),i=n.n(o),r=(n(265),n(4)),a=n.n(r),l=n(19),u=n(11),p=n(5),d=n(105),f=n(259),b=n.n(f),x=n(53);var j=function(){var e=["rock","paper","scissors"],t=s.a.useRef(null),n=s.a.useState(null),o=Object(p.a)(n,2),i=o[0],r=o[1],f=Object(c.useState)(null),j=Object(p.a)(f,2),h=j[0],O=j[1],m=Object(c.useState)(null),v=Object(p.a)(m,2),g=v[0],k=v[1],y=Object(c.useState)(null),S=Object(p.a)(y,2),F=S[0],w=S[1],I=["rock","paper","scissors"],C=function(){var e=I[Math.floor(Math.random()*I.length)];k(e)};Object(c.useEffect)((function(){switch(h+g){case"scissorspaper":case"rockscissors":case"paperrock":w("YOU WIN!");break;case"paperscissors":case"scissorsrock":case"rockpaper":w("YOU LOSE!");break;case"rockrock":case"paperpaper":case"scissorsscissors":w("ITS A DRAW!")}}),[g,h]);var E=s.a.useCallback((function(){var e=t.current.getScreenshot();r(e)}),[t,r]),M=Object(c.useState)(),B=Object(p.a)(M,2),P=B[0],L=B[1];function T(){return(T=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.c("/tnm095-rps-cnn/model/model.json");case 3:t=e.sent,L(t),console.log("successfully loaded model..."),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),console.log("failed loading model...");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function z(){return(z=Object(u.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D(document.getElementById("img")),n=P.predict(t).dataSync(),e.abrupt("return",R(n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return d.f((function(){var t=d.a.fromPixels(e,3),n=d.b.resizeBilinear(t,[150,150]).toFloat(),c=d.e(255);return d.e(1).sub(n.div(c)).expandDims(0)}))}function R(t){var n=t.indexOf(Math.max.apply(Math,Object(l.a)(t))),c=[{title:"Rock",value:100*t[0].toFixed(2)},{title:"Paper",value:100*t[1].toFixed(2)},{title:"Scissor",value:100*t[2].toFixed(2)}];return console.log(e[n]+": "+100*t[n].toFixed(2)+"%"),document.getElementById("prediction").innerHTML=c[0].title+": "+c[0].value+"% "+c[1].title+": "+c[1].value+"% "+c[2].title+": "+c[2].value+"%",console.log(n),O(I[n]),C(),c}return Object(c.useEffect)((function(){d.d().then((function(){!function(){T.apply(this,arguments)}()}))}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{style:{position:"absolute",top:"200px",left:"30px"},children:Object(x.jsx)(b.a,{id:"img",audio:!1,ref:t,screenshotQuality:.1,screenshotFormat:"image/jpeg"})}),Object(x.jsx)("button",{style:{position:"absolute",top:"380px",padding:"50px 38px","border-radius":"8px",left:"700px","font-size":"40px"},onClick:function(e){E(),function(){z.apply(this,arguments)}()},children:"Predict"}),Object(x.jsx)("div",{children:i&&Object(x.jsx)("img",{id:"myImage",src:i,style:{position:"absolute",width:"200px",top:"200px",left:"700px"}})}),Object(x.jsx)("div",{style:{position:"absolute",top:"210px",left:"40px"},id:"prediction"}),Object(x.jsx)("div",{style:{position:"absolute",top:"25px",left:"30px"},children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("h1",{children:["Your choice is: ",h]}),Object(x.jsxs)("h1",{children:["Computer choice is: ",g]}),Object(x.jsx)("h1",{style:{position:"absolute",top:"-10px",left:"480px",width:"520px",color:"rgb(255,153,82)","font-size":"60px"},children:F})]})})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,304)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),o(e),i(e)}))};i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(j,{})}),document.getElementById("root")),h()}},[[303,1,2]]]);
//# sourceMappingURL=main.3f8d28e0.chunk.js.map